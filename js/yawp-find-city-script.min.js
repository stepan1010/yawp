function yawp_find_city_script(b){var c=jQuery(".yawp_search_results");c.append("<br /><b>Loading</b>");var d={},e={action:"yawp_find_city",yawp_city_to_find:jQuery("#yawp_city").val(),dataType:"json"};jQuery.post(ajaxurl,e,function(a){a=jQuery.parseJSON(a);c.empty();if(a.no_response)return c.append("<br /><b> Connection error. Please try again in a few minutes.</b>"),0;if(a.no_city)return c.append("<br /><b> No city found. Please check your spelling.</b>"),0;for(i=1;i<=a[0].count;i++)jQuery('<br /> <input type="radio" name="yawp_list_of_possible_cities" value="'+
i+'"> '+a[i].name+", "+a[i].country+", Latitude: "+a[i].latitude+", Longitude: "+a[i].longitude+", Current temperature: "+a[i].temperature+"&deg, Current conditions: "+a[i].conditions+"</input><br />").appendTo(".yawp_search_results");d=a;b(d)})}
jQuery(document).ready(function(){jQuery("#find_city").click(function(){jQuery(".yawp_search_results").empty();yawp_find_city_script(function(b){0!=b&&jQuery("input:radio[name=yawp_list_of_possible_cities]").live("click",function(){jQuery("#yawp_city_display_name").val(b[jQuery(this).val()].name);jQuery("input#yawp_city_id").val(b[jQuery(this).val()].id)})})})});